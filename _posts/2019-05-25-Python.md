---
layout: post
title: Python
---

# UV

## é…ç½®å›½å†…æº

åœ¨ ~/.bashrc ä¸­æ·»åŠ 

export UV_INDEX=https://pypi.mirrors.ustc.edu.cn/simple

Windowsæ–°ç‰ˆuvä¸å— ~/pip/pip.ini æ§åˆ¶ï¼Œéœ€é…ç½®ç¯å¢ƒå˜é‡

## ä¸‹è½½å¹¶æ³¨å†Œä¸€ä¸ªç‹¬ç«‹çš„ Python 3.13

uv python install 3.13

æŸ¥çœ‹å®‰è£…ä½ç½®

uv python list

å¤åˆ¶åˆ›å»ºçš„pythonç›®å½•

åˆ›å»ºå¯ä»¥ç§»æ¤çš„è™šæ‹Ÿç¯å¢ƒ å°† --python æŒ‡å‘æ‚¨å¤åˆ¶çš„æ–‡ä»¶å¤¹å†…çš„ python.exe

uv venv venv --python python-standalone\python.exe --relocatable


# å¯ç§»æ¤ç‰ˆæœ¬

[https://www.python.org/downloads/windows/](https://www.python.org/downloads/windows/)


ä»¥ä¸‹æ˜¯ä¸€ä¸ª è‡ªåŠ¨åˆå§‹åŒ– pip çš„ Python è„šæœ¬ï¼Œä¸“é—¨ä¸º python åµŒå…¥å¼ç¯å¢ƒè®¾è®¡ï¼Œå¯ä»¥è‡ªåŠ¨å®Œæˆä»¥ä¸‹å·¥ä½œï¼š

```python
import os
import urllib.request
import subprocess

BASE_DIR = os.path.dirname(os.path.abspath(__file__))
PTH_FILE = os.path.join(BASE_DIR, "python._pth")
GET_PIP_URL = "https://bootstrap.pypa.io/get-pip.py"
GET_PIP_FILE = os.path.join(BASE_DIR, "get-pip.py")
PIP_BAT_FILE = os.path.join(BASE_DIR, "pip.bat")
PYTHON_EXE = os.path.join(BASE_DIR, "python.exe")


def enable_import_site():
    print("[1/3] æ­£åœ¨ä¿®æ”¹ python._pthï¼Œå¼€å¯ import site...")
    with open(PTH_FILE, "r", encoding="utf-8") as f:
        lines = f.readlines()

    modified = False
    for i, line in enumerate(lines):
        if line.strip() == "#import site":
            lines[i] = "import site\n"
            modified = True
            break
        elif line.strip() == "import site":
            modified = True
            break

    if not modified:
        lines.append("import site\n")

    with open(PTH_FILE, "w", encoding="utf-8") as f:
        f.writelines(lines)
    print("âœ… ä¿®æ”¹å®Œæˆ")


def download_get_pip():
    print("[2/3] æ­£åœ¨ä¸‹è½½ get-pip.py...")
    urllib.request.urlretrieve(GET_PIP_URL, GET_PIP_FILE)
    print("âœ… ä¸‹è½½å®Œæˆ")


def install_pip():
    print("[3/3] æ­£åœ¨å®‰è£… pip...")
    result = subprocess.run([PYTHON_EXE, "get-pip.py"], capture_output=True, text=True)
    if result.returncode == 0:
        print("âœ… pip å®‰è£…æˆåŠŸ")
    else:
        print("âŒ pip å®‰è£…å¤±è´¥ï¼š")
        print(result.stderr)
        exit(1)


def create_pip_bat():
    print("â• åˆ›å»º pip.bat...")
    with open(PIP_BAT_FILE, "w", encoding="utf-8") as f:
        f.write("@echo off\npython.exe -m pip %*\n")
    print("âœ… pip.bat åˆ›å»ºå®Œæˆ")


if __name__ == "__main__":
    enable_import_site()
    download_get_pip()
    install_pip()
    create_pip_bat()
    print("\nğŸ‰ åˆå§‹åŒ–å®Œæˆï¼ç°åœ¨å¯ä»¥ä½¿ç”¨ pip å®‰è£…æ¨¡å—äº†ï¼Œæ¯”å¦‚ï¼š")
    print("   pip install requests")

```



# å¤šç‰ˆæœ¬å®‰è£… pyenv

## Linux

å¤šç‰ˆæœ¬å®‰è£…ï¼š[https://github.com/pyenv/pyenv-installer](https://github.com/pyenv/pyenv-installer)

	curl https://pyenv.run | bash

å¦‚æœæ˜¯WSL2ä¸‹çš„Linuxï¼Œå¦‚æœå®¿ä¸»æœºWindowsä¸‹ä¹Ÿ å®‰è£…äº†pyenvåˆ™ä¼šå†²çªï¼Œéœ€é€šè¿‡é…ç½®ç¯å¢ƒå˜é‡è§£å†³ï¼Œç¼–è¾‘.bashrcæ–‡ä»¶ï¼š

```
# é¿å…è·¯å¾„å†²çªï¼š ç¡®ä¿WSL2 Ubuntuä¸­çš„$PATHå˜é‡ä¼˜å…ˆä½¿ç”¨Linuxçš„pyenvè·¯å¾„
export PATH=$(echo $PATH | sed -e 's/:\/mnt\/c\/Users\/[^:]*\/.pyenv\/pyenv-win\/bin//g')
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init --path)"
eval "$(pyenv init -)"

# é»˜è®¤æ–¹æ¡ˆï¼š
# Load pyenv automatically by appending
# the following to
# ~/.bash_profile if it exists, otherwise ~/.profile (for login shells)
# and ~/.bashrc (for interactive shells) :

export PYENV_ROOT="$HOME/.pyenv"
[[ -d $PYENV_ROOT/bin ]] && export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"

# Restart your shell for the changes to take effect.

# Load pyenv-virtualenv automatically by adding
# the following to ~/.bashrc:

eval "$(pyenv virtualenv-init -)"
```

å¸è½½python3.10

```
pip freeze | xargs pip uninstall -y
sudo apt-get remove python3.10 -y
sudo apt-get autoremove -y
```

## Windows

å¤šç‰ˆæœ¬å®‰è£…ï¼š[https://github.com/pyenv-win/pyenv-win](https://github.com/pyenv-win/pyenv-win)

å®‰è£… pyenv-win çš„æœ€ç®€å•æ–¹æ³•æ˜¯åœ¨ PowerShell ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å®‰è£…å‘½ä»¤ï¼š

	Invoke-WebRequest -UseBasicParsing -Uri "https://raw.githubusercontent.com/pyenv-win/pyenv-win/master/pyenv-win/install-pyenv-win.ps1" -OutFile "./install-pyenv-win.ps1"; &"./install-pyenv-win.ps1"

å¦‚æœæ‚¨æ”¶åˆ°ä»»ä½• UnauthorizedAccess é”™è¯¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œè¯·ä½¿ç”¨â€œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œâ€é€‰é¡¹å¯åŠ¨ Windows PowerShell å¹¶è¿è¡Œ

	Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope LocalMachine

æˆ–

	Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# pyenvä½¿ç”¨

æŸ¥çœ‹å¯å®‰è£…çš„ç‰ˆæœ¬

```
pyenv install --list
```

å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„python

	pyenv install 3.12.4

ä½¿ç”¨Â `curl`Â å‘½ä»¤æ‰‹åŠ¨ä¸‹è½½ Python æºä»£ç ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨Â `.pyenv/cache`Â ç›®å½•ä¸­ã€‚è¿™æ ·ï¼Œ`pyenv`Â ä¼šç›´æ¥ä½¿ç”¨ç¼“å­˜ä¸­çš„æ–‡ä»¶è¿›è¡Œå®‰è£…ï¼Œè€Œä¸ä¼šé‡æ–°ä¸‹è½½ï¼š

```
curl -L -o ~/.pyenv/cache/Python-3.12.4.tar.xz https://www.python.org/ftp/python/3.12.4/Python-3.12.4.tar.xz

pyenv install 3.12.4

# Windowsç±»ä¼¼ï¼ˆå¯ç”¨export HTTPS_PROXY="https://<proxy_address>:<proxy_port>"ï¼‰ï¼š
:: [Downloading] ::  From https://www.python.org/ftp/python/3.12.4/python-3.12.4-amd64.exe
:: [Downloading] ::  To   C:\Users\ml\.pyenv\pyenv-win\install_cache\python-3.12.4-amd64.exe
```

å®‰è£…ä¾èµ– (Linuxä¸‹å®‰è£…pythonæ—¶æŠ¥é”™ï¼špyenv install 3.12.4  è§£å†³åŠæ³•)ï¼š

```
sudo apt install -y make build-essential libssl-dev zlib1g-dev \
libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm \
libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev \
liblzma-dev git libssl-dev
```


æŸ¥çœ‹pyenvå·²ç»å®‰è£…çš„pythonç‰ˆæœ¬

	pyenv versions

åˆ‡æ¢pythonç‰ˆæœ¬

	pyenv global 3.12.4

æŸ¥çœ‹å½“å‰pythonç‰ˆæœ¬

	pyenv version

å‘½ä»¤å¸®åŠ©

	`commands` åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ pyenv å‘½ä»¤
	`duplicate` åˆ›å»ºä¸€ä¸ªé‡å¤çš„ Python ç¯å¢ƒ
	`local` è®¾ç½®æˆ–æ˜¾ç¤ºæœ¬åœ°åº”ç”¨ç¨‹åºç‰¹å®šçš„ Python ç‰ˆæœ¬
	`latest` æ‰“å°å·²å®‰è£…æˆ–å·²çŸ¥çš„æœ€æ–°ç‰ˆæœ¬çš„ç»™å®šå‰ç¼€
	`global` è®¾ç½®æˆ–æ˜¾ç¤ºå…¨å±€ Python ç‰ˆæœ¬
	`shell` è®¾ç½®æˆ–æ˜¾ç¤ºç‰¹å®š shell çš„ Python ç‰ˆæœ¬
	`install` ä½¿ç”¨ python-build å®‰è£…ä¸€ä¸ª Python ç‰ˆæœ¬
	`uninstall` å¸è½½ç‰¹å®šçš„ Python ç‰ˆæœ¬
	`update` æ›´æ–°ç¼“å­˜çš„ç‰ˆæœ¬æ•°æ®åº“
	`rehash` é‡æ–°ç”Ÿæˆ pyenv çš„ shimsï¼ˆåœ¨å®‰è£…å¯æ‰§è¡Œæ–‡ä»¶åè¿è¡Œæ­¤å‘½ä»¤ï¼‰
	`vname` æ˜¾ç¤ºå½“å‰çš„ Python ç‰ˆæœ¬
	`version` æ˜¾ç¤ºå½“å‰çš„ Python ç‰ˆæœ¬åŠå…¶æ¥æº
	`version-name` æ˜¾ç¤ºå½“å‰çš„ Python ç‰ˆæœ¬
	`versions` åˆ—å‡ºæ‰€æœ‰å¯ç”¨äº pyenv çš„ Python ç‰ˆæœ¬
	`exec` è¿è¡Œä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œé¦–å…ˆå‡†å¤‡ PATH ä»¥ä¾¿é€‰æ‹© Python
	`which` æ˜¾ç¤ºå¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„
	`whence` åˆ—å‡ºåŒ…å«ç»™å®šå¯æ‰§è¡Œæ–‡ä»¶çš„æ‰€æœ‰ Python ç‰ˆæœ¬

# pipæºåŠ é€Ÿ

### ç”¨pqiå®ç°å¿«é€Ÿåˆ‡æ¢

	pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pqi

ä½¿ç”¨æ‰‹å†Œ

	  pqi ls
	  pqi use <name>
	  pqi show
	  pqi add <name> <url>
	  pqi remove <name>
	  pqi (-h | --help)
	  pqi (-v | --version)

### pipå›½å†…é•œåƒåœ°å€

    ä¸­å›½ç§‘æŠ€å¤§å­¦     https://pypi.mirrors.ustc.edu.cn/simple/
    é˜¿é‡Œäº‘           https://mirrors.aliyun.com/pypi/simple/
    è±†ç“£             https://pypi.douban.com/simple/
    æ¸…åå¤§å­¦         https://pypi.tuna.tsinghua.edu.cn/simple/

### pipé…ç½®æ–‡ä»¶

Linuxçš„æ–‡ä»¶åœ¨ `~/.config/pip/pip.conf`  æˆ–    `~/.pip/pip.conf`

Windowsåœ¨ `%HOMEPATH%\pip\pip.ini`

    æ³¨æ„é…ç½®æ–‡ä»¶æœ‰ä¼˜å…ˆçº§é¡ºåºï¼
    
    åœ¨ä½ çš„æœºå™¨ä¸Šå¯èƒ½å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªé…ç½®æ–‡ä»¶ï¼Œå®ƒä»¬æŒ‰ç…§ä¼˜å…ˆçº§æ’åºï¼š
    [ä¼˜å…ˆçº§1] ç«™ç‚¹çº§åˆ«çš„é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚/usr/pip.conf
    [ä¼˜å…ˆçº§2] ç”¨æˆ·çº§åˆ«çš„é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚/root/.config/pip/pip.confæˆ–/root/.pip/pip.conf
    [ä¼˜å…ˆçº§3] å…¨å±€çº§åˆ«çš„é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚/etc/pip.confæˆ–/etc/xdg/pip/pip.conf
    å½“å¤šä¸ªé…ç½®æ–‡ä»¶å­˜åœ¨æ—¶ï¼ŒPIPä¼šæŒ‰ç…§ä¼˜å…ˆçº§åˆå¹¶å®ƒä»¬ï¼Œé«˜ä¼˜å…ˆçº§çš„æ–‡ä»¶ä¼šè¦†ç›–ä½ä¼˜å…ˆçº§çš„æ–‡ä»¶ä¸­çš„è®¾ç½®ã€‚

```ini
[global]
index-url=https://pypi.mirrors.ustc.edu.cn/simple
[install]
trusted-host=pypi.mirrors.ustc.edu.cn
```

ä½¿ç”¨å¤šä¸ªæºï¼ˆå¤‡ç”¨ï¼‰:

```ini
[global]
timeout=40
index-url = https://pypi.mirrors.ustc.edu.cn/simple
extra-index-url = https://mirrors.aliyun.com/pypi/simple
# å–æ¶ˆpipç‰ˆæœ¬æ£€æŸ¥ï¼Œæ’é™¤æ¯æ¬¡éƒ½æŠ¥æœ€æ–°çš„pip
disable-pip-version-check = false
[install]
trusted-host=
    pypi.mirrors.ustc.edu.cn/simple
    mirrors.aliyun.com
```


# è™šæ‹Ÿç¯å¢ƒ

### åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ (ç¯å¢ƒåˆ›å»ºåœ¨å½“å‰ç›®å½•.venvä¸‹)

	python -m venv .venv

### æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

bash

	source .venv/Scripts/activate

Powershell

	.\.venv\Scripts\activate
	or
	& '.\.venv\Scripts\activate'

cmd

	.\.venv\Scripts\activate

### é€€å‡ºè™šæ‹Ÿç¯å¢ƒ

	deactivate


vscodeä¸­pythonæ’ä»¶å…³äºç¯å¢ƒæ¿€æ´»çš„è¯´æ˜

[https://github.com/microsoft/vscode-python/wiki/Activate-Environments-in-Terminal-Using-Environment-Variables](https://github.com/microsoft/vscode-python/wiki/Activate-Environments-in-Terminal-Using-Environment-Variables)

vscodeä¸­ç»ˆç«¯å¯åŠ¨æ—¶è‡ªåŠ¨æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ(é…ç½®å®Œéœ€é‡å¯vscode)ï¼š

	python -m venv .env

.vscode/settting.json

```json
{
Â  Â  "python.envFile": "${workspaceFolder}/.env",
Â  Â  "python.terminal.activateEnvironment": true
}
```

# PIPåŒ…ç®¡ç†

### æ›´æ–°pipè‡ªèº«

```bash
python -m pip install --upgrade pip
```

### æŸ¥çœ‹éœ€å‡çº§çš„åŒ…

```shell
pip list --outdated
```

### æ‰¹é‡å¸è½½ï¼Œä¿ç•™pqiåŒ…

	pip freeze|grep -v pqi|xargs pip uninstall -y


### å‚æ•°è¯´æ˜

    # pip --help
    
    Usage:
      pip <command> [options]
    
    Commands:
      install                     å®‰è£…è½¯ä»¶.
      uninstall                   å¸è½½è½¯ä»¶.
      freeze                      æŒ‰ç€ä¸€å®šæ ¼å¼è¾“å‡ºå·²å®‰è£…è½¯ä»¶åˆ—è¡¨
      list                        åˆ—å‡ºå·²å®‰è£…è½¯ä»¶.
      show                        æ˜¾ç¤ºè½¯ä»¶è¯¦ç»†ä¿¡æ¯.
      search                      æœç´¢è½¯ä»¶ï¼Œç±»ä¼¼yumé‡Œçš„search. -> æ–°ç‰ˆä¸æ”¯æŒï¼Œå¯ç”¨pip-searchæ›¿ä»£ï¼špip install pip-search ï¼Œç”¨æ³•ï¼špip_search [åŒ…å]
      wheel                       Build wheels from your requirements.
      zip                         ä¸æ¨è. Zip individual packages.
      unzip                       ä¸æ¨è. Unzip individual packages.
      bundle                      ä¸æ¨è. Create pybundles.
      help                        å½“å‰å¸®åŠ©.
    
    General Options:
      -h, --help                  æ˜¾ç¤ºå¸®åŠ©.
      -v, --verbose               æ›´å¤šçš„è¾“å‡ºï¼Œæœ€å¤šå¯ä»¥ä½¿ç”¨3æ¬¡
      -V, --version               ç°å®ç‰ˆæœ¬ä¿¡æ¯ç„¶åé€€å‡º.
      -q, --quiet                 æœ€å°‘çš„è¾“å‡º.
      --log-file <path>           è¦†ç›–çš„æ–¹å¼è®°å½•verboseé”™è¯¯æ—¥å¿—ï¼Œé»˜è®¤æ–‡ä»¶ï¼š/root/.pip/pip.log
      --log <path>                ä¸è¦†ç›–è®°å½•verboseè¾“å‡ºçš„æ—¥å¿—.
      --proxy <proxy>             Specify a proxy in the form [user:passwd@]proxy.server:port.
      --timeout <sec>             è¿æ¥è¶…æ—¶æ—¶é—´ (é»˜è®¤15ç§’).
      --exists-action <action>    Default action when a path already exists: (s)witch, (i)gnore, (w)ipe, (b)ackup.
      --cert <path>               è¯ä¹¦.



# Pythonäº¤äº’æ¨¡å¼REPL

ipython  å¥½

bpython  æ›´å¥½

ptpython æ›´æ›´å¥½



# ç‰ˆæœ¬å‡çº§

## Ubuntu 

1.æ·»åŠ æ–°çš„æº

    add-apt-repository ppa:deadsnakes/ppa
    apt update

æ³¨æ„ï¼Œå¦‚æœå‡ºç° Error: retrieving gpg key timed out.

å¯ä»¥æ›´æ¢GPGå¯†é’¥æœåŠ¡å™¨ï¼Œä½ å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤ä¿®æ”¹ä½ çš„GPGé…ç½®æ–‡ä»¶ï¼ŒæŠŠå¯†é’¥æœåŠ¡å™¨æ”¹ä¸ºä¸€ä¸ªå¯ç”¨çš„åœ°å€ï¼Œæ¯”å¦‚keys.openpgp.orgï¼š

    echo "keyserver keys.openpgp.org" >> ~/.gnupg/gpg.conf

2.å¸è½½åŸæ¥ç¯å¢ƒï¼ˆå¯ä»¥ä¸å¸è½½ï¼‰

    python3.8 -m pip uninstall pip
    apt purge --auto-remove python3.8
    rm -rf /usr/local/lib/python3.8/dist-packages/

3.å®‰è£…æ–°ç‰ˆæœ¬

    apt install python3.10 python3.10-venv python-is-python3

4.ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®python3.10ä¸ºé»˜è®¤çš„python3ç‰ˆæœ¬

    sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.8 1
    sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.10 2
    sudo update-alternatives --config python3

5.å®‰è£…pip

    curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
    python get-pip.py





# å…¶ä»–

## No module named 'tkinter' é—®é¢˜è§£å†³

æ­£å¸¸é€šè¿‡ apt install -y python3-tk å®‰è£…å³å¯ï¼Œä½†å¦‚æœæœ‰å¤šä¸ªç‰ˆæœ¬çš„pythonåˆ™éœ€å®‰è£…ç‰¹å®šæ­£åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œå¦‚ï¼š

	apt install -y python3.10-tk

## Pythonè¾“å‡ºç¼“å†²åŒº

pythonè¾“å‡ºç¼“å†²åŒºè¦æ»¡ 4k æ‰å†™å…¥æ–‡ä»¶ï¼Œé™¤éç¦ç”¨ç¼“å­˜æˆ–è€…å¼ºåˆ¶è¾“å‡ºæˆ–è€…ç¨‹åºç»“æŸ

è§£å†³çš„åŠæ³•ï¼š

```
1.è¿è¡Œæ—¶åŠ -uå‚æ•°ï¼Œå¦‚ `# python -u test.py`ã€€

2.åœ¨ä¸è¦ç¼“å†²çš„æ¯ä¸€æ¬¡printåé¢æ·»åŠ sys.stdout.flush()å‡½æ•°

3.æ·»åŠ ç¯å¢ƒå˜é‡ `PYTHONUNBUFFERED=1`
```

`

## ç”¨Pythonä»£ç æ®µæ£€æŸ¥å½“å‰ç¯å¢ƒ OpenSSL æ”¯æŒçš„ç‰ˆæœ¬ï¼Œé€šè¿‡requestsæ¨¡å—

```powershell
python -c "import requests; print(requests.get('https://www.howsmyssl.com/a/check', verify=False).json()['tls_version'])"
```

## BATè„šæœ¬ç›´æ¥å¯åŠ¨Anaconda pythonç¯å¢ƒ

```bat
start "" cmd /k "C:\ProgramData\Anaconda3\Scripts\activate py36"
```

# Anaconda conda

## minicondaå®‰è£…è¯´æ˜

[https://www.anaconda.com/docs/getting-started/miniconda/install](https://www.anaconda.com/docs/getting-started/miniconda/install)


## minicondaå®‰è£…è„šæœ¬


```bash
#!/bin/bash
INSTALL_PATH="/mnt/jqsd4_dataware/tools/python_env/miniconda"

# åˆ›å»ºå®‰è£…ç›®å½•
mkdir -p "$INSTALL_PATH"

# ä¸‹è½½Minicondaå®‰è£…è„šæœ¬
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O "$INSTALL_PATH/miniconda.sh"

# æ‰§è¡Œå®‰è£…
bash "$INSTALL_PATH/miniconda.sh" -b -u -p "$INSTALL_PATH"

# åˆ é™¤å®‰è£…è„šæœ¬
#rm "$INSTALL_PATH/miniconda.sh"

# åˆå§‹åŒ–condaï¼ˆå¯é€‰ï¼‰
#source "$INSTALL_PATH/bin/activate"
# æ‰€æœ‰å¯ç”¨çš„ shell ä¸Šåˆå§‹åŒ– conda (å¯é€‰)
#conda init --all

# åˆ›å»ºç‹¬ç«‹ç¯å¢ƒ
conda create -n py3_13 python=3.13
conda env list
conda activate py3_13
# ç›´æ¥æ¿€æ´»
# source /mnt/jqsd4_dataware/tools/python_env/miniconda/bin/activate py3_13

# å®‰è£…uv
python -m pip install uv
python -m uv pip install xxxx


# ä» conda-forge ä»“åº“å®‰è£… conda-pack å·¥å…·
# conda install -c conda-forge conda-pack
conda install conda-pack
# æ‰“åŒ…ç¯å¢ƒ
conda pack -n py3_13 -o py3_13.tar.gz



# ç›®æ ‡æœºå™¨ä½¿ç”¨
mkdir /data/python_env && tar -xzf py3_13.tar.gz -C /data/python_env

source /data/python_env/bin/activate
```


## Anacondaä¸‹è½½åœ°å€:

[https://www.anaconda.com/products/individual#Downloads](https://www.anaconda.com/products/individual#Downloads)

å†å²ç‰ˆæœ¬ä¸‹è½½åœ°å€ï¼š[https://repo.anaconda.com/](https://repo.anaconda.com/)

## å°†Anacondaè®¾ä¸ºé»˜è®¤çš„pythonç¯å¢ƒ

å°†ä»¥ä¸‹è·¯å¾„åŠ å…¥åˆ°pathç¯å¢ƒå˜é‡

```
C:\ProgramData\Anaconda3
C:\ProgramData\Anaconda3\Scripts
C:\ProgramData\Anaconda3\Library\bin
```

å¦‚æœä½ æƒ³åŠ å…¥çš„ç¯å¢ƒä¸æ˜¯ä½ çš„Anacondaçš„Baseç¯å¢ƒè€Œæ˜¯è‡ªå·±çš„ç¯å¢ƒçš„è¯ï¼Œåªéœ€è¦è¿›å…¥anaconda3æ–‡ä»¶å¤¹ä¸‹é¢çš„envsæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ä½ è‡ªå·±æ‰€åˆ›å»ºçš„ç¯å¢ƒï¼Œç„¶åæ·»åŠ å¯¹åº”æ–‡ä»¶å¤¹ä¸­çš„è¿™3ä¸ªè·¯å¾„å°±è¡Œã€‚

## Minicondaä¸‹è½½åœ°å€ï¼š

[https://conda.io/miniconda.html](https://conda.io/miniconda.html)

    wget https://repo.continuum.io/miniconda/Miniconda2-latest-Linux-x86_64.sh
    bash Miniconda2-latest-Linux-x86_64.sh

scipyå®‰è£…ï¼ˆæŒ‡å®šæ¸…åæºï¼‰ï¼š

    conda install -c https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r scipy

## ä¿®æ”¹condaä¸ºå›½å†…æºï¼š

(1)æ¸…åæº(TUNA)

```
conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/win-64/
conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/win-64/
conda config --set show_channel_urls yes
conda config --set ssl_verify no
```

(2)ä¸­ç§‘å¤§æº(USTC)

```
conda config --add channels http://mirrors.ustc.edu.cn/anaconda/pkgs/free/win-64/
conda config --add channels http://mirrors.ustc.edu.cn/anaconda/pkgs/main/win-64/
conda config --set show_channel_urls yes
conda config --set ssl_verify no
```

(3)é˜¿é‡Œäº‘æº(ALIYUN)  ï¼ˆæ³¨æ„ï¼šWindowsç¯å¢ƒåé¢è·¯å¾„åŠ ä¸Š /win-64/   ï¼ï¼ï¼ï¼‰

```
conda config --add channels http://mirrors.aliyun.com/anaconda/pkgs/free/win-64/
conda config --add channels http://mirrors.aliyun.com/anaconda/pkgs/main/win-64/
conda config --set show_channel_urls yes
conda config --set ssl_verify no
```

ä¹Ÿå¯ä»¥ç›´æ¥ç¼–è¾‘æ–‡ä»¶ï¼šè¿›å…¥ç”¨æˆ·ç›®å½•ï¼Œæ¯”å¦‚ â€**C:\Users\Administrator**â€œï¼Œæ‰“å¼€â€œ**.condarcâ€œ**ï¼Œå¡«å…¥ä»¥ä¸‹æ–‡ä»¶ä¿å­˜ã€‚

```
ssl_verify: false
show_channel_urls: true

channels:
  - http://mirrors.aliyun.com/anaconda/pkgs/free/win-64/
  - http://mirrors.aliyun.com/anaconda/pkgs/main/win-64/
```

â€‹    

å‘½ä»¤è¯´æ˜ï¼š

    conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ # æ·»åŠ é€šé“
    conda config --set show_channel_urls yes    # æ‰§è¡Œå®‰è£…åŒ…æ—¶ä¼šæ˜¾ç¤ºæ¥è‡ªå“ªä¸ªæº
    conda config --remove-key channels          # åˆ é™¤é€šé“
    conda config --show channels                # æ˜¾ç¤ºé€šé“
    conda config --set ssl_verify no            # ä¸éªŒè¯https

## åˆ›å»ºæ–°ç¯å¢ƒ

Windowsä¸‹ä½¿ç”¨ç®¡ç†å‘˜å¯åŠ¨cmd

    conda create -n py37 python=3.7

æ¿€æ´»ç¯å¢ƒ

```
conda activate py37
```

## å–æ¶ˆé»˜è®¤æ¿€æ´»ç¯å¢ƒ

```
conda config --set auto_activate_base false
```

## vscodeä¸­å–æ¶ˆé»˜è®¤æ¿€æ´»ç¯å¢ƒ

è®¾ç½® - æœç´¢ï¼špython - æ‰¾åˆ° activateEnvironment å–æ¶ˆå‹¾é€‰

"python.terminal.activateEnvironment": false

## vscodeä¸­ Python æ¸…é™¤å·¥ä½œåŒºè§£é‡Šå™¨è®¾ç½®

ctrl + shift + p

è¾“å…¥ï¼špython clear work  åç‚¹é€‰

## æŸ¥çœ‹å½“å‰å­˜åœ¨å“ªäº›è™šæ‹Ÿç¯å¢ƒ

    conda env list æˆ– conda info -e

## ä½¿ç”¨æ¿€æ´»(æˆ–åˆ‡æ¢ä¸åŒpythonç‰ˆæœ¬)è™šæ‹Ÿç¯å¢ƒ

    Linux:  source activate your_env_name
    Windows: activate your_env_name

## conda pipä½¿ç”¨å›½å†…æº

```shell
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

## å¯¹è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…é¢å¤–çš„åŒ…

    conda install -n your_env_name [package]

## å…³é—­è™šæ‹Ÿç¯å¢ƒ

    Linux: source deactivate
    Windows: deactivate

## åˆ é™¤è™šæ‹Ÿç¯å¢ƒ

    conda remove -n your_env_name --all
    conda remove --name your_env_name package_name

ç›´æ¥å®‰è£…ï¼š

    conda install numpy
    conda install scikit-learn

ç¥ç»ç½‘ç»œä¾èµ–åŒ…ï¼š

    conda install numpy
    conda install pandas
    conda install scipy

æŸ¥çœ‹å®‰è£…åˆ—è¡¨ï¼š

    conda list
    # packages in environment at /root/miniconda2:
    #
    cffi                      1.9.1                    py27_0  
    conda                     4.3.13                   py27_0  
    conda-env                 2.6.0                         0  
    cryptography              1.7.1                    py27_0  
    enum34                    1.1.6                    py27_0  
    idna                      2.2                      py27_0  
    ipaddress                 1.0.18                   py27_0  
    libffi                    3.2.1                         1  
    libgfortran               3.0.0                         1  
    mkl                       2017.0.1                      0  
    numpy                     1.12.0                   py27_0  
    openssl                   1.0.2k                        0  
    pip                       9.0.1                    py27_1  
    pyasn1                    0.1.9                    py27_0  
    pycosat                   0.6.1                    py27_1  
    pycparser                 2.17                     py27_0  
    pyopenssl                 16.2.0                   py27_0  
    python                    2.7.13                        0  
    readline                  6.2                           2  
    requests                  2.12.4                   py27_0  
    ruamel_yaml               0.11.14                  py27_1  
    scikit-learn              0.18.1                    <pip>
    scipy                     0.18.1              np112py27_1  
    setuptools                27.2.0                   py27_0  
    six                       1.10.0                   py27_0  
    sklearn                   0.0                       <pip>
    sqlite                    3.13.0                        0  
    tk                        8.5.18                        0  
    wheel                     0.29.0                   py27_0  
    yaml                      0.1.6                         0  
    zlib                      1.2.8                         3  

# Jupyter

## Jupyter Notebookä½¿ç”¨æŒ‡å®šçš„condaç¯å¢ƒ

```
conda install nb_conda
```

é‡æ–°å¯åŠ¨jupyter notebookä¹‹åï¼Œå°±å¯ä»¥åœ¨kernelä¸­é€‰æ‹©è‡ªå·±éœ€è¦çš„è™šæ‹Ÿç¯å¢ƒ

## Jupyteråˆ‡æ¢ä¸»é¢˜

é¦–å…ˆåœ¨windowsä¸‹æ‰“å¼€anacondaè‡ªå¸¦çš„Anaconda Promptå‘½ä»¤è¡Œå·¥å…·ï¼Œä½¿ç”¨æœ€åŸºæœ¬ç®€ä¾¿çš„pipå®‰è£…å³å¯

```shell
pip install jupyterthemes #å®‰è£…jupyterthemes
pip install --upgrade jupyterthemes #æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬çš„jupyterthemes
jt -l #æŸ¥çœ‹å¯ç”¨çš„jupyterthemeä¸»é¢˜
```

ä½¿ç”¨-té€‰é¡¹é€‰æ‹©ä¸»é¢˜ï¼Œä½¿ç”¨-fé€‰é¡¹è®¾ç½®å­—ä½“ï¼Œä½¿ç”¨-fsé€‰é¡¹è®¾ç½®å­—ä½“å¤§å°ï¼Œä½¿ç”¨-Tå‘½ä»¤ä½¿å·¥å…·æ¡å¯è§ï¼Œä½¿ç”¨-Nä½¿Nameå’Œlogoå¯è§

```shell
jt -t chesterish -f roboto -fs 12 -T -N
```

##  Jupyter notebook ç¦»çº¿æŸ¥çœ‹å·¥å…·

ä½¿ç”¨nbpreviewå¯ä»¥ç›´æ¥æŸ¥çœ‹ ipynb ç»“å°¾çš„æ–‡ä»¶ï¼Œä¸ç”¨è”ç½‘å¯åŠ¨ Jupyter notebookäº†ï¼Œç”šè‡³è¿ Jupyter å’Œ IPython éƒ½ä¸ç”¨å®‰è£…å°±å¯ä»¥èƒ½ç›´æ¥æŸ¥çœ‹ï¼š[Demo](https://jsvine.github.io/nbpreview/)

é¡¹ç›®åœ°å€ï¼š[https://github.com/jsvine/nbpreview](https://github.com/jsvine/nbpreview)

# å…¶ä»–æŠ€å·§

## git bashä¸­ä½¿ç”¨python

ç¼–è¾‘æ–‡ä»¶ï¼šC:\Program Files\Git\etc\profile.d\aliases.sh

å°†13è¡Œï¼š

        for name in node ipython php php5 psql python2.7

é‡Œçš„python2.7æ”¹æˆpyhton

è¿™æ ·git bashé‡Œè¾“å…¥pythonå°±èƒ½æ­£å¸¸è¿›å…¥ç¯å¢ƒäº†

## å…³é—­*.pycæ–‡ä»¶ç”Ÿæˆ

import åˆ«çš„ py æ–‡ä»¶æ—¶ï¼Œé‚£ä¸ª py æ–‡ä»¶ä¼šè¢«å­˜ä¸€ä»½ pyc åŠ é€Ÿä¸‹æ¬¡è£…è½½ã€‚

ä½†æ˜¯æµ‹è¯•æ—¶ä¸ºäº†ä¸å½±å“ç›®å½•ç»“æ„å¯ä»¥å…³é—­ï¼š

```python
import sys
sys.dont_write_bytecode = True
```



## pyæ–‡ä»¶æ‰“åŒ…ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶

### windowsä¸‹ç¼–è¯‘æˆexe

1.ä½¿ç”¨py2exe

å»ºç«‹setup.py

```python
from distutils.core import setup
import py2exe
setup(console=['app.py'])
```

æ‰§è¡Œ

    python setup.py py2exe

2.ä½¿ç”¨pyinstaller

æ‰§è¡Œ

    pyinstaller --distpath .\dist_pyinstaller --workpath .\build_pyinstaller -F app.py -n out.exe

### Linuxä¸‹ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶

1.pyinstalleræ”¯æŒlinuxä¸‹ç¼–è¯‘æ‰“åŒ…ï¼Œä½¿ç”¨æ–¹æ³•å’Œwindowsä¸‹ä¸€è‡´

    pyinstaller --distpath ./dist_pyinstaller --workpath ./build_pyinstaller -F app.py -n out



## PythonäºŒç»´ç è¯†åˆ«åº“

    apt-get install python-qrtools

ä½¿ç”¨æ–¹æ³•ï¼š

```python
#!/usr/bin/env python
import qrtools
qr = qrtools.QR()
qr.decode("qr.png")
print qr.data
```


## pythonæœ‰åºå­—å…¸

```python
import collections
d = collections.OrderedDict()
d['a'] = 'A'
d['b'] = 'B'
d['c'] = 'C'
```

# Python Webå¼€å‘

Pythonå¼‚æ­¥(ASGI)ç½‘ç»œæ¡†æ¶åŸºå‡†æµ‹è¯•: [http://klen.github.io/py-frameworks-bench/](http://klen.github.io/py-frameworks-bench/)


## ç”¨Pythonå»ºç«‹æœ€ç®€å•çš„webæœåŠ¡å™¨

python2:

    python -m SimpleHTTPServer 8080

python3:

    python -m http.server 8080



## sanicç®€å•é«˜æ€§èƒ½å¼‚æ­¥æ¡†æ¶

Sanic æ˜¯ä¸€ä¸ªPython 3.7+çš„Web æœåŠ¡å™¨å’Œ Web æ¡†æ¶ï¼Œå…¶ç¼–å†™é€Ÿåº¦å¿«ã€‚

[https://sanic.dev/zh/](https://sanic.dev/zh/)



## Tornado+Flask å»ºç«‹WebæœåŠ¡å™¨

app.py

```python
import subprocess
from flask import Flask,request

app = Flask(__name__)
app.debug = True
log = app.logger.debug
app.logger.propagate = 0  # é˜²æ­¢æ—¥å¿—å‘ä¸Šä¼ æ’­ https://segmentfault.com/q/1010000004077355

@app.route('/')
def hello():
    return 'Hello world!'

@app.route('/cmd',methods=['GET'])
def cmd():
    postdata = request.args.get('data', '')
    log(postdata)
    cmd = str(postdata)
    val = subprocess.getoutput(cmd)
    return val
```

tornado_server.py

```python
from tornado.httpserver import HTTPServer
from tornado.wsgi import WSGIContainer
from app import app
from tornado.ioloop import IOLoop

if __name__ == '__main__':
    s = HTTPServer(WSGIContainer(app))
    s.listen(8001) # ç›‘å¬ç«¯å£
    IOLoop.current().start()
```



## ç”¨PHPå»ºç«‹æœ€ç®€å•çš„webæœåŠ¡å™¨

    Example #1 å¯åŠ¨WebæœåŠ¡å™¨  æœåŠ¡äºå½“å‰ç›®å½•
    $ php -S localhost:8000
    
    Example #2 å¯åŠ¨æ—¶æŒ‡å®šæ ¹ç›®å½•
    $ php -S localhost:8000 -t malu/
    
    Example #3 ä½¿ç”¨è·¯ç”±ï¼ˆRouterï¼‰è„šæœ¬
    $ php -S localhost:8000 router.php

# é”™è¯¯

### å¯¼å…¥matplotlib.pyplotæ¨¡å—æ—¶æŠ¥é”™ï¼š

    from . import _imaging as core
    ImportError: DLL load failed: æ‰¾ä¸åˆ°æŒ‡å®šçš„æ¨¡å—ã€‚

è§£å†³åŠæ³•ï¼ŒæŠŠ Pillowã€matplotlibæ›´æ–°åˆ°æœ€æ–°ï¼š

```
pip uninstall matplotlib
pip uninstall Pillow
pip install Pillow
pip install matplotlib
```





pip list æ˜¾ç¤ºé”™è¯¯å¼‚å¸¸ï¼š

    [ root@0d4c1b027902:~ ]$ pip list
    argparse (1.2.1)
    Exception:
    Traceback (most recent call last):
      File "/usr/lib/python2.7/dist-packages/pip/basecommand.py", line 122, in main
        status = self.run(options, args)
      File "/usr/lib/python2.7/dist-packages/pip/commands/list.py", line 80, in run
        self.run_listing(options)
      File "/usr/lib/python2.7/dist-packages/pip/commands/list.py", line 142, in run_listing
        self.output_package_listing(installed_packages)
      File "/usr/lib/python2.7/dist-packages/pip/commands/list.py", line 151, in output_package_listing
        if dist_is_editable(dist):
      File "/usr/lib/python2.7/dist-packages/pip/util.py", line 366, in dist_is_editable
        req = FrozenRequirement.from_dist(dist, [])
      File "/usr/lib/python2.7/dist-packages/pip/__init__.py", line 286, in from_dist
        assert len(specs) == 1 and specs[0][0] == '=='
    AssertionError
    
    Storing debug log for failure in /root/.pip/pip.log

è§£å†³åŠæ³•ï¼š

- to remove ubuntu package: sudo apt-get remove --auto-remove python-pip
- download official pip installer: wget https://bootstrap.pypa.io/get-pip.py
- install pip by running downloaded installer: sudo python get-pip.py
- add sym-link to make it run without full path: sudo ln -s /usr/local/bin/pip /usr/bin/pip

Done!


# ä¸­æ–‡ä¹±ç é—®é¢˜3æ¡å»ºè®®

- æ‰€æœ‰ text string éƒ½åº”è¯¥æ˜¯ unicode ç±»å‹ï¼Œè€Œä¸æ˜¯ strï¼Œå¦‚æœä½ åœ¨æ“ä½œ textï¼Œè€Œç±»å‹å´æ˜¯ strï¼Œé‚£å°±æ˜¯åœ¨åˆ¶é€  bugã€‚
- åœ¨éœ€è¦è½¬æ¢çš„æ—¶å€™ï¼Œæ˜¾å¼è½¬æ¢ã€‚ä»å­—èŠ‚è§£ç æˆæ–‡æœ¬ï¼Œç”¨ var.decode(encoding)ï¼Œä»æ–‡æœ¬ç¼–ç æˆå­—èŠ‚ï¼Œç”¨ var.encode(encoding)ã€‚
- ä»å¤–éƒ¨è¯»å–æ•°æ®æ—¶ï¼Œé»˜è®¤å®ƒæ˜¯å­—èŠ‚ï¼Œç„¶å decode æˆéœ€è¦çš„æ–‡æœ¬ï¼›åŒæ ·çš„ï¼Œå½“éœ€è¦å‘å¤–éƒ¨å‘é€æ–‡æœ¬æ—¶ï¼Œencode æˆå­—èŠ‚å†å‘é€ã€‚


# å¸¸ç”¨PythonåŒ…

1ã€pip freeze > requirements.txt å°†å½“å‰ç¯å¢ƒä¸­çš„åŒ…çš„åç§°åŠç‰ˆæœ¬å¯¼å‡ºåˆ°æ–‡æœ¬ä¸­

2ã€ç„¶ååœ¨å¦ä¸€ä¸ªç¯å¢ƒä¸­ pip install -r requirements.txt å®‰è£…


Python3å¸¸ç”¨åŒ…å®‰è£…:

    apt-get install -y libcurl4-openssl-dev libsmbclient-dev python-pip python3-pip
    
    pip3 install pysimplesoap
    
    pip3 install -r requirements.txt
    
    [ root@base:~ ]$ cat requirements.txt 
    altgraph==0.15
    asn1crypto==0.24.0
    beautifulsoup4==4.6.0
    binwalk==2.1.0
    bs4==0.0.1
    cached-property==1.4.2
    certifi==2018.1.18
    chardet==2.3.0
    configparser==3.5.0
    crcelk==1.1
    cryptography==2.1.4
    cssselect==1.0.1
    cycler==0.10.0
    Cython==0.26.1
    decorator==4.0.11
    docker-pycreds==0.3.0
    dockerpty==0.4.1
    docopt==0.6.2
    future==0.16.0
    hashID==3.1.4
    html5lib==0.999999999
    httplib2==0.9.2
    idna==2.6
    inflect==0.2.5
    jaraco.itertools==2.1
    jsonschema==2.6.0
    keyring==10.6.0
    keyrings.alt==3.0
    louis==1.3
    lxml==4.1.1
    macholib==1.9
    matplotlib==2.0.0
    more-itertools==4.0.1
    numpy==1.12.1
    olefile==0.45.1
    pefile==2017.11.5
    Pillow==4.0.0
    pyasn1==0.1.9
    pycrypto==2.6.1
    pycurl==7.43.0
    pygobject==3.26.1
    PyInstaller==3.3.1
    pymongo==3.1.1
    PyOpenGL==3.1.0
    pyparsing==2.1.10
    pyqtgraph==0.10.0
    pyquery==1.3.0
    pyserial==3.2.1
    PySimpleSOAP==1.16.2
    pysmbc==1.0.15.6
    python-dateutil==2.5.3
    python-debian==0.1.30
    python-debianbts==2.6.1
    pytz==2016.7
    pyxdg==0.25
    PyYAML==3.12
    requests==2.12.4
    scipy==0.18.1
    SecretStorage==2.3.1
    selenium==3.7.0
    six==1.10.0
    smoke-zephyr==1.0.2
    ssh-import-id==5.7
    termineter==0.2.6
    texttable==0.9.1
    urllib3==1.19.1
    webencodings==0.5
    websocket-client==0.48.0
    xmltodict==0.11.0


# mysql-pythonå®‰è£…è¿‡ç¨‹

### å¿«é€Ÿå®‰è£…

    apt-get update
    apt-get install -y libffi-dev python-dev
    apt-get install -y libmysqlclient-dev
    apt-get install -y libmysqld-dev
    pip install mysql-python

### å¯¼å…¥æ¨¡å—ï¼š

    >>> import MySQLdb


# åœ¨Windowsä¸‹å®‰è£… MySQL-python 1.2.5

å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š

1.å®‰è£… Microsoft Visual C++ Compiler Package for Python 2.7  [ä¸‹è½½é“¾æ¥](https://www.microsoft.com/en-us/download/details.aspx?id=44266)

2.å®‰è£… MySQL Connector C 6.0.2  [ä¸‹è½½é“¾æ¥](https://dev.mysql.com/downloads/connector/c/6.0.html)

3.ä¸‹è½½ MySQL-python 1.2.5 æºç åŒ…  [ä¸‹è½½é“¾æ¥](https://pypi.python.org/pypi/MySQL-python/1.2.5)

4.è§£å‹æºç åŒ…åï¼Œä¿®æ”¹ site.cfg æ–‡ä»¶ã€‚

å®é™…ä¸Šï¼Œå¦‚æœä½ æ˜¯åœ¨32 ä½ç³»ç»Ÿä¸Šéƒ¨ç½²ï¼Œé‚£ä¹ˆé€šè¿‡pip install å®‰è£…MySQL-python 1.2.5 åªéœ€è¿›è¡Œä¸Šé¢çš„ä¾èµ–åŒ…å®‰è£…å³å¯ã€‚
ä½†åœ¨ 64 ä½ç¯å¢ƒä¸­ï¼Œå°±ä¼šæç¤ºâ€œCannot open include file: 'config-win.h'â€ çš„é”™è¯¯ã€‚
åŸå› å°±æ˜¯ site.cfg ä¸­å†™çš„ MySQL Connector C ä¸º32 ä½ç‰ˆæœ¬ã€‚

åŸæ¥çš„ site.cfg æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

    # http://stackoverflow.com/questions/1972259/mysql-python-install-problem-using-virtualenv-windows-pip
    # Windows connector libs for MySQL. You need a 32-bit connector for your 32-bit Python build.
    connector = C:\Program Files (x86)\MySQL\MySQL Connector C 6.0.2

ä¿®æ”¹ä¸ºï¼š

    connector = C:\Program Files\MySQL\MySQL Connector C 6.0.2

5.è¿è¡Œ python setup.py install å³å¯å®‰è£…å®Œæˆã€‚


ä¸æƒ³é‚£ä¹ˆéº»çƒ¦å¯ä»¥ç›´æ¥å®‰è£…è¿™ä¸ª [MySQL-python-1.2.3.win-amd64-py2.7.exe](http://www.codegood.com/download/11/) 

å‚è€ƒï¼šhttp://www.codegood.com/archives/129

# python_geventæ¨¡å—å®‰è£…


### é€šè¿‡pipå®‰è£…ï¼Œå…ˆç¡®ä¿python-devå’Œlibevent-devå·²å®‰è£…ï¼š

    apt-get install python-dev
    apt-get install libevent-dev 
    pip install gevent

æ­£å¸¸æƒ…å†µgreenletä¹Ÿä¼šä¸€åŒå®‰è£…ï¼š

    gevent (1.1.1)
    greenlet (0.4.9)

### å¦‚æœé‡åˆ°å®‰è£…ä¸ä¸Šçš„æƒ…å†µï¼Œå¯ä»¥å°è¯•å®‰è£…æ—§ç‰ˆæœ¬ï¼š

    pip install gevent==0.13.8


### å½“ç„¶ä¹Ÿå¯ä»¥ä¸‹è½½æºç å®‰è£…ï¼š

    wget http://pypi.python.org/packages/source/g/gevent/gevent-0.13.8.tar.gz

è§£å‹åï¼Œè¦å…ˆè¿è¡Œä¸‹å…¶ä¸­çš„ï¼š

    python fetch_libevent.py

ç„¶åï¼š

    python setup.py build
    python setup.py install

