---
layout: post
title: samba日常笔记
---

安装：

	apt-get install samba

目前默认安装的应该是4.x以上版本了

启动：

	/etc/init.d/smbd start
	或者
	service smbd start

编辑配置文件：vim /etc/samba/smb.conf

	[global]
	   security = user
	   map to guest = bad user
	   usershare allow guests = yes
	
	[share]
	   comment = Shared Folder
	   path = /share
	   guest ok = yes
	   writable = yes
	
	[malu]
	   comment = Shared Folder with username and password
	   path = /home/malu/share
	   writable = yes
	   valid users = malu
	   create mask = 0777
	   directory mask = 0777
	   available = yes
	   browseable = yes

新建本地用户：

	useradd malu

设置用户密码：

	smbpasswd -a malu

添加用户到smbusers里：vim /etc/samba/smbusers

	malu = "network username"

最后记得建立目录：

	mkdir /home/malu/share
	mkdir /share

# Linux客户端登录

查看共享：

	smbclient -L //127.0.0.1/ -N

-L列出共享

-N匿名登录

匿名登录：

	smbclient //192.168.0.21/share -N

用户登录：

	smbclient //192.168.0.21/malu -U malu