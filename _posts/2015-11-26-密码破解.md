---
layout: post
title: 密码破解
---

官网：[http://hashcat.net/hashcat/](http://hashcat.net/hashcat/)

中文教程：

[http://www.i0day.com/928.html](http://www.i0day.com/928.html)

### 安装： ###

下载二进制文件，并建立软连接

hashcat v2.00 下载地址：[https://hashcat.net/files_legacy/hashcat-2.00.7z](https://hashcat.net/files_legacy/hashcat-2.00.7z)

	#7z安装
	apt-get install -y p7zip p7zip-full p7zip-rar
	#解压
	7z x hashcat-2.00.7z
	#建立软链
	ln -s /root/hashcat/hashcat-cli64.bin /usr/local/bin/hashcat


暴力破解md5 8位密码

    hashcat hashcat.txt -a 3 -m 0 --custom-charset1=?l?d ?1?1?1?1?1?1?1?1


暴力破解md5($salt.md5($pass)) 6位密码

    hashcat hashcat.txt -a 3 -m 3710 -e salt.txt --custom-charset1=?l?d ?1?1?1?1?1?1

暴力破解md5 从3位开始破到6位

    hashcat abc.txt -a 3 -m 0 --increment --increment-min=3 --custom-charset1=?l?d ?1?1?1?1?1?1

基准测试：

	hashcat -b
	hashcat -b --cpu-affinity=1,2   #使用前2个CPU，进行基准测试(v3.00开始加入的功能)

CPU限速：

	svn checkout https://cpulimit.svn.sourceforge.net/svnroot/cpulimit/trunk cpulimit 
	cd cpulimit 
	make
	cp ./cpulimit /usr/local/bin

> 限制方法:
> 
> 如果限制进程名,比如将httpd这个进程名的CPU限制在40%
> 
> cpulimit --exe httpd --limit 40 
> 
> cpulimit --exe /usr/local/bin/httpd --limit 40
> 
> 将pid为2960的进程的CPU限制在55%
> 
> cpulimit --pid 2960 --limit 55
> 
> 慢慢对比top 命令那里的CPU变化.嘿嘿,有效果了吧?.
> 
> 再来个完美的
> 
> 自动限制当前进程使用CPU超过20%的进程,将他限制为10%
> 
> cpulimit --pid `ps aux|awk '{if($3 20) print $2}'` --limit 10

分布式破解：

[http://hashcat.net/forum/thread-3159.html](http://hashcat.net/forum/thread-3159.html)

[https://hashcat.net/wiki/doku.php?id=vcl_cluster_howto](https://hashcat.net/wiki/doku.php?id=vcl_cluster_howto)


关注几个参数：
>   -c,  --segment-size=NUM            Size in MB to cache from the wordfile
>   
>   -n,  --threads=NUM                 Number of threads
>   
>   -s,  --words-skip=NUM              Skip number of words (for resume)
>   
>   -l,  --words-limit=NUM             Limit number of words (for distributed)

  
直接破解：

[https://hashkiller.co.uk/](https://hashkiller.co.uk/)


Linux下直接生成md5加密结果

    echo -n "passwd"|md5sum


# 安装v3.10

安装完如果出现：

	root@ubuntu:~/hashcat/hashcat-3.10# ./example0.sh
	hashcat (v3.10) starting...
	
	Generating bitmap tables with 16 bits...
	
	ERROR: clGetPlatformIDs(): CL_UNKNOWN_ERROR

说明opencl没有安装，hashcat v3.10需要opencl支持

opencl安装过程：

	wget http://registrationcenter-download.intel.com/akdlm/irc_nas/9019/opencl_runtime_16.1_x64_ubuntu_5.2.0.10002.tgz
	tar -zxvf opencl_runtime_16.1_x64_ubuntu_5.2.0.10002.tgz
	cd opencl_runtime_16.1_x64_ubuntu_5.2.0.10002/
	./install.sh

按照提示输入对应的选项，执行就行了

hashcat-3.10安装过程：

	wget https://hashcat.net/files/hashcat-3.10.7z
	7z x hashcat-3.10.7z

找到对应的hashcat64.bin执行即可

### office hash

计算office哈希用以下工具：

https://github.com/kholia/RC4-40-brute-office/blob/master/office2john.py


[ root@2dfc0631f40e:~ ]$ ./office2john.py 0.xlsx 
0.xlsx:$office$*2007*20*128*16*xads810987fa21ed16d2d726cbea65ad*d42355ea0b624a8018d8e5be53a63cca*282d836467ab4eb9ab426e5a177d9f25680917da

破解速率单位：

	1 kH/s is 1,000 (one thousand) hashes per second
	1 MH/s is 1,000,000 (one million) hashes per second.
	1 GH/s is 1,000,000,000 (one billion) hashes per second.
	1 TH/s is 1,000,000,000,000 (one trillion) hashes per second.
	1 PH/s is 1,000,000,000,000,000 (one quadrillion) hashes per second.
	1 EH/s is 1,000,000,000,000,000,000 (one quintillion) hashes per second.


# windows密码破解

下载：https://github.com/gentilkiwi/mimikatz

打开mimikatz.exe，输入：

	第一条：privilege::debug   //提升权限
	第二条：sekurlsa::logonpasswords   //抓取密码

什么？字体太小。右击窗口上方，属性，调整字体。
