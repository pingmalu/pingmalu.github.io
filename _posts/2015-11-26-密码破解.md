---
layout: post
title: 密码破解
---

官网：[http://hashcat.net/hashcat/](http://hashcat.net/hashcat/)

中文教程：

[http://www.i0day.com/928.html](http://www.i0day.com/928.html)

### 安装： ###

下载二进制文件，并建立软连接

hashcat v2.00 下载地址：[https://hashcat.net/files_legacy/hashcat-2.00.7z](https://hashcat.net/files_legacy/hashcat-2.00.7z)

	#7z安装
	apt-get install -y p7zip p7zip-full p7zip-rar
	#解压
	7z x hashcat-2.00.7z
	#建立软链
	ln -s /root/hashcat/hashcat-cli64.bin /usr/local/bin/hashcat


暴力破解md5 8位密码

    hashcat hashcat.txt -a 3 -m 0 --custom-charset1=?l?d ?1?1?1?1?1?1?1?1


暴力破解md5($salt.md5($pass)) 6位密码

    hashcat hashcat.txt -a 3 -m 3710 -e salt.txt --custom-charset1=?l?d ?1?1?1?1?1?1

暴力破解md5 从3位开始破到6位

    hashcat abc.txt -a 3 -m 0 --increment --increment-min=3 --custom-charset1=?l?d ?1?1?1?1?1?1

基准测试：

	hashcat -b
	hashcat -b --cpu-affinity=1,2   #使用前2个CPU，进行基准测试(v3.00开始加入的功能)

关注几个参数：

>   -c,  --segment-size=NUM            Size in MB to cache from the wordfile
>   
>   -n,  --threads=NUM                 Number of threads
>   
>   -s,  --words-skip=NUM              Skip number of words (for resume)
>   
>   -l,  --words-limit=NUM             Limit number of words (for distributed)

### CPU限速：

	svn checkout https://cpulimit.svn.sourceforge.net/svnroot/cpulimit/trunk cpulimit 
	cd cpulimit 
	make
	cp ./cpulimit /usr/local/bin

> 限制方法:
> 
> 如果限制进程名,比如将httpd这个进程名的CPU限制在40%
> 
> cpulimit --exe httpd --limit 40 
> 
> cpulimit --exe /usr/local/bin/httpd --limit 40
> 
> 将pid为2960的进程的CPU限制在55%
> 
> cpulimit --pid 2960 --limit 55
> 
> 慢慢对比top 命令那里的CPU变化.嘿嘿,有效果了吧?.
> 
> 再来个完美的
> 
> 自动限制当前进程使用CPU超过20%的进程,将他限制为10%
> 
> cpulimit --pid `ps aux|awk '{if($3 20) print $2}'` --limit 10

### 分布式破解：

[http://hashcat.net/forum/thread-3159.html](http://hashcat.net/forum/thread-3159.html)

[https://hashcat.net/wiki/doku.php?id=vcl_cluster_howto](https://hashcat.net/wiki/doku.php?id=vcl_cluster_howto)

直接破解：

[https://hashkiller.co.uk/](https://hashkiller.co.uk/)


Linux下直接生成md5加密结果

    echo -n "passwd"|md5sum


# 安装v3.10

安装完如果出现：

	root@ubuntu:~/hashcat/hashcat-3.10# ./example0.sh
	hashcat (v3.10) starting...
	
	Generating bitmap tables with 16 bits...
	
	ERROR: clGetPlatformIDs(): CL_UNKNOWN_ERROR

说明opencl没有安装，hashcat v3.10需要opencl支持

opencl安装过程：

	wget http://registrationcenter-download.intel.com/akdlm/irc_nas/9019/opencl_runtime_16.1_x64_ubuntu_5.2.0.10002.tgz
	tar -zxvf opencl_runtime_16.1_x64_ubuntu_5.2.0.10002.tgz
	cd opencl_runtime_16.1_x64_ubuntu_5.2.0.10002/
	./install.sh

按照提示输入对应的选项，执行就行了

hashcat-3.10安装过程：

	wget https://hashcat.net/files/hashcat-3.10.7z
	7z x hashcat-3.10.7z

找到对应的hashcat64.bin执行即可

### office hash

计算office哈希用以下工具：

https://github.com/kholia/RC4-40-brute-office/blob/master/office2john.py


[ root@2dfc0631f40e:~ ]$ ./office2john.py 0.xlsx 
0.xlsx:$office$*2007*20*128*16*xads810987fa21ed16d2d726cbea65ad*d42355ea0b624a8018d8e5be53a63cca*282d836467ab4eb9ab426e5a177d9f25680917da

破解速率单位：

	1 kH/s is 1,000 (one thousand) hashes per second
	1 MH/s is 1,000,000 (one million) hashes per second.
	1 GH/s is 1,000,000,000 (one billion) hashes per second.
	1 TH/s is 1,000,000,000,000 (one trillion) hashes per second.
	1 PH/s is 1,000,000,000,000,000 (one quadrillion) hashes per second.
	1 EH/s is 1,000,000,000,000,000,000 (one quintillion) hashes per second.


# windows密码破解

下载：https://github.com/gentilkiwi/mimikatz

打开mimikatz.exe，输入：

	第一条：privilege::debug   //提升权限
	第二条：sekurlsa::logonpasswords   //抓取密码

什么？字体太小。右击窗口上方，属性，调整字体。


# 附录：

### daocloud KVM CPU 基准测试结果:

	Initializing hashcat v2.00 with 4 threads and 32mb segment-size...
	
	Device...........: Common KVM CPU
	Instruction set..: x86_64
	Number of threads: 4
	
	Hash type: MD4
	Speed/sec: 6.90M words
	
	Hash type: MD5
	Speed/sec: 5.47M words
	
	Hash type: SHA1
	Speed/sec: 3.88M words
	
	Hash type: SHA256
	Speed/sec: 2.08M words
	
	Hash type: SHA512
	Speed/sec: 877.07k words
	
	Hash type: SHA-3(Keccak)
	Speed/sec: 922.37k words
	
	Hash type: GOST R 34.11-94
	Speed/sec: 506.88k words
	
	Hash type: SHA-1(Base64), nsldap, Netscape LDAP SHA
	Speed/sec: 4.13M words
	
	Hash type: SSHA-1(Base64), nsldaps, Netscape LDAP SSHA
	Speed/sec: 3.61M words
	
	Hash type: md5crypt, MD5(Unix), FreeBSD MD5, Cisco-IOS MD5
	Speed/sec: 5.13k words
	
	Hash type: sha256crypt, SHA256(Unix)
	Speed/sec: 275 words
	
	Hash type: sha512crypt, SHA512(Unix)
	Speed/sec: 173 words
	
	Hash type: bcrypt, Blowfish(OpenBSD)
	Speed/sec: 337 words
	
	Hash type: NTLM
	Speed/sec: 6.28M words
	
	Hash type: Domain Cached Credentials (DCC), MS Cache
	Speed/sec: 3.75M words
	
	Hash type: NetNTLMv1-VANILLA / NetNTLMv1+ESS
	Speed/sec: 6.22M words
	
	Hash type: NetNTLMv2
	Speed/sec: 916.10k words
	
	Hash type: EPiServer 6.x < v4
	Speed/sec: 3.44M words
	
	Hash type: EPiServer 6.x > v4
	Speed/sec: 1.93M words
	
	Hash type: MSSQL(2000)
	Speed/sec: 3.35M words
	
	Hash type: MSSQL(2005)
	Speed/sec: 3.40M words
	
	Hash type: MSSQL(2012)
	Speed/sec: 844.47k words
	
	Hash type: MySQL323
	Speed/sec: 12.36M words
	
	Hash type: MySQL4.1/MySQL5
	Speed/sec: 2.31M words
	
	Hash type: Oracle S: Type (Oracle 11+)
	Speed/sec: 3.58M words
	
	Hash type: PostgreSQL Challenge-Response Authentication (MD5)
	Speed/sec: 2.28M words
	
	Hash type: MySQL Challenge-Response Authentication (SHA1)
	Speed/sec: 1.56M words
	
	Hash type: OSX v10.4, v10.5, v10.6
	Speed/sec: 3.73M words
	
	Hash type: OSX v10.7
	Speed/sec: 851.14k words
	
	Hash type: OSX v10.8+
	Speed/sec: - words
	
	Hash type: Android PIN
	Speed/sec: 3.86k words
	
	Hash type: scrypt
	Speed/sec: - words
	
	Hash type: Cisco-PIX MD5
	Speed/sec: 5.09M words
	
	Hash type: Cisco-ASA MD5
	Speed/sec: 4.95M words
	
	Hash type: Cisco-IOS SHA256
	Speed/sec: 2.07M words
	
	Hash type: Cisco $9$
	Speed/sec: 101 words
	
	Hash type: WPA/WPA2
	Speed/sec: 361 words
	
	Hash type: IKE-PSK MD5
	Speed/sec: 1.01M words
	
	Hash type: IKE-PSK SHA1
	Speed/sec: 651.70k words
	
	Hash type: Password Safe v3
	Speed/sec: 1.16k words
	
	Hash type: AIX {ssha1}
	Speed/sec: 45.14k words
	
	Hash type: Radmin2
	Speed/sec: 2.83M words
	
	Hash type: HMAC-MD5 (key = $pass)
	Speed/sec: 1.87M words
	
	Hash type: HMAC-MD5 (key = $salt)
	Speed/sec: 3.17M words
	
	Hash type: HMAC-SHA1 (key = $pass)
	Speed/sec: 1.19M words
	
	Hash type: HMAC-SHA1 (key = $salt)
	Speed/sec: 1.97M words
	
	Hash type: HMAC-SHA256 (key = $pass)
	Speed/sec: 595.94k words
	
	Hash type: HMAC-SHA256 (key = $salt)
	Speed/sec: 1.06M words
	
	Hash type: HMAC-SHA512 (key = $pass)
	Speed/sec: 237.15k words
	
	Hash type: HMAC-SHA512 (key = $salt)
	Speed/sec: 447.87k words
	
	Hash type: IPMI2 RAKP HMAC-SHA1
	Speed/sec: 1.34M words
	
	Hash type: Half MD5
	Speed/sec: 4.75M words
	
	Hash type: Double MD5
	Speed/sec: 2.65M words
	
	Hash type: GRUB 2
	Speed/sec: 46 words
	
	Hash type: phpass, MD5(Wordpress), MD5(phpBB3), MD5(Joomla)
	Speed/sec: 3.88k words
	
	Hash type: SIP digest authentication (MD5)
	Speed/sec: 2.36M words
	
	Hash type: Joomla < 2.5.18
	Speed/sec: 4.95M words
	
	Hash type: osCommerce, xt:Commerce
	Speed/sec: 5.00M words
	
	Hash type: PrestaShop
	Speed/sec: 4.78M words
	
	Hash type: IPB2+, MyBB1.2+
	Speed/sec: 2.39M words
	
	Hash type: vBulletin < v3.8.5
	Speed/sec: 2.54M words
	
	Hash type: SMF > v1.1
	Speed/sec: 3.78M words
	
	Hash type: MD5
	Speed/sec: 5.48M words

### VMware docker i5-4590 基准测试结果

	Initializing hashcat v2.00 with 4 threads and 32mb segment-size...
	
	Device...........: Intel(R) Core(TM) i5-4590 CPU @ 3.30GHz
	Instruction set..: x86_64
	Number of threads: 4
	
	Hash type: MD4
	Speed/sec: 80.62M words
	
	Hash type: MD5
	Speed/sec: 62.88M words
	
	Hash type: SHA1
	Speed/sec: 46.23M words
	
	Hash type: SHA256
	Speed/sec: 24.27M words
	
	Hash type: SHA512
	Speed/sec: 10.15M words
	
	Hash type: SHA-3(Keccak)
	Speed/sec: 10.60M words
	
	Hash type: GOST R 34.11-94
	Speed/sec: 5.97M words
	
	Hash type: SHA-1(Base64), nsldap, Netscape LDAP SHA
	Speed/sec: 44.85M words
	
	Hash type: SSHA-1(Base64), nsldaps, Netscape LDAP SSHA
	Speed/sec: 43.08M words
	
	Hash type: md5crypt, MD5(Unix), FreeBSD MD5, Cisco-IOS MD5
	Speed/sec: 67.41k words
	
	Hash type: sha256crypt, SHA256(Unix)
	Speed/sec: 3.22k words
	
	Hash type: sha512crypt, SHA512(Unix)
	Speed/sec: 2.04k words
	
	Hash type: bcrypt, Blowfish(OpenBSD)
	Speed/sec: 3.96k words
	
	Hash type: NTLM
	Speed/sec: 73.37M words
	
	Hash type: Domain Cached Credentials (DCC), MS Cache
	Speed/sec: 43.79M words
	
	Hash type: NetNTLMv1-VANILLA / NetNTLMv1+ESS
	Speed/sec: 71.85M words
	
	Hash type: NetNTLMv2
	Speed/sec: 10.60M words
	
	Hash type: EPiServer 6.x < v4
	Speed/sec: 39.90M words
	
	Hash type: EPiServer 6.x > v4
	Speed/sec: 22.60M words
	
	Hash type: MSSQL(2000)
	Speed/sec: 38.46M words
	
	Hash type: MSSQL(2005)
	Speed/sec: 40.35M words
	
	Hash type: MSSQL(2012)
	Speed/sec: 9.62M words
	
	Hash type: MySQL323
	Speed/sec: 137.00M words
	
	Hash type: MySQL4.1/MySQL5
	Speed/sec: 26.80M words
	
	Hash type: Oracle S: Type (Oracle 11+)
	Speed/sec: 43.52M words
	
	Hash type: PostgreSQL Challenge-Response Authentication (MD5)
	Speed/sec: 27.80M words
	
	Hash type: MySQL Challenge-Response Authentication (SHA1)
	Speed/sec: 18.01M words
	
	Hash type: OSX v10.4, v10.5, v10.6
	Speed/sec: 42.45M words
	
	Hash type: OSX v10.7
	Speed/sec: 9.89M words
	
	Hash type: OSX v10.8+
	Speed/sec: 157 words
	
	Hash type: Android PIN
	Speed/sec: 45.95k words
	
	Hash type: scrypt
	Speed/sec: 150 words
	
	Hash type: Cisco-PIX MD5
	Speed/sec: 57.95M words
	
	Hash type: Cisco-ASA MD5
	Speed/sec: 57.17M words
	
	Hash type: Cisco-IOS SHA256
	Speed/sec: 24.37M words
	
	Hash type: Cisco $9$
	Speed/sec: 1.06k words
	
	Hash type: WPA/WPA2
	Speed/sec: 4.15k words
	
	Hash type: IKE-PSK MD5
	Speed/sec: 11.56M words
	
	Hash type: IKE-PSK SHA1
	Speed/sec: 7.54M words
	
	Hash type: Password Safe v3
	Speed/sec: 13.54k words
	
	Hash type: AIX {ssha1}
	Speed/sec: 521.96k words
	
	Hash type: Radmin2
	Speed/sec: 31.09M words
	
	Hash type: HMAC-MD5 (key = $pass)
	Speed/sec: 18.47M words
	
	Hash type: HMAC-MD5 (key = $salt)
	Speed/sec: 33.65M words
	
	Hash type: HMAC-SHA1 (key = $pass)
	Speed/sec: 13.38M words
	
	Hash type: HMAC-SHA1 (key = $salt)
	Speed/sec: 23.84M words
	
	Hash type: HMAC-SHA256 (key = $pass)
	Speed/sec: 6.34M words
	
	Hash type: HMAC-SHA256 (key = $salt)
	Speed/sec: 12.38M words
	
	Hash type: HMAC-SHA512 (key = $pass)
	Speed/sec: 2.64M words
	
	Hash type: HMAC-SHA512 (key = $salt)
	Speed/sec: 5.30M words
	
	Hash type: IPMI2 RAKP HMAC-SHA1
	Speed/sec: 15.40M words
	
	Hash type: Half MD5
	Speed/sec: 53.94M words
	
	Hash type: Double MD5
	Speed/sec: 31.02M words
	
	Hash type: GRUB 2
	Speed/sec: 558 words
	
	Hash type: phpass, MD5(Wordpress), MD5(phpBB3), MD5(Joomla)
	Speed/sec: 45.36k words
	
	Hash type: SIP digest authentication (MD5)
	Speed/sec: 27.89M words
	
	Hash type: Joomla < 2.5.18
	Speed/sec: 58.69M words
	
	Hash type: osCommerce, xt:Commerce
	Speed/sec: 58.61M words
	
	Hash type: PrestaShop
	Speed/sec: 54.85M words
	
	Hash type: IPB2+, MyBB1.2+
	Speed/sec: 27.87M words
	
	Hash type: vBulletin < v3.8.5
	Speed/sec: 30.04M words
	
	Hash type: SMF > v1.1
	Speed/sec: 42.80M words
	
	Hash type: MD5
	Speed/sec: 63.68M words
	 